#!/bin/bash

APPROACH=$(curl --silent https://rebirthofhope.ru/api/approach || 0)

[[ -z $CALL ]] && \
echo "ÐšÑ‚Ð¾ Ñ‚Ñ‹? ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ñƒ Ñ‚ÐµÐ±Ñ Ð½ÐµÑ‚ Ð¿Ð¾Ð·Ñ‹Ð²Ð½Ð¾Ð³Ð¾? ÐžÐ½ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ, cÐ²ÐµÑ€Ñ…Ñƒ." && \
exit 1

echo "Ð”Ð¾Ñ€Ð¾Ð³Ð¾Ð¹ Ñ‚ÐµÑ…Ð½Ð°Ñ€ÑŒ ${CALL}:"
echo ""
echo "  ÐšÐ¾Ð³Ð´Ð° Ñ‚Ñ‹   Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸ÑˆÑŒ Â«Ð½Ð°ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°Ñ‚ÑŒÂ»   ÑÑ‚Ñƒ   Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð¸ Ð¿Ð¾Ð¹Ð¼ÐµÑˆÑŒ, Ð½Ð°ÑÐºÐ¾Ð»ÑŒÐºÐ¾"
echo "  Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹  Ð¾ÑˆÐ¸Ð±ÐºÐ¾Ð¹   Ð±Ñ‹Ð»Ð¾     Ð´ÐµÐ»Ð°Ñ‚ÑŒ    ÑÑ‚Ð¾,      Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°,  ÑƒÐ²ÐµÐ»Ð¸Ñ‡ÑŒ   ÑÑ‡ÐµÑ‚Ñ‡Ð¸Ðº"
echo "  Ð²Ð½Ð¸Ð·Ñƒ ÐºÐ°Ðº Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ³Ð¾ Ð¿Ð°Ñ€Ð½Ñ (Ð¸Ð»Ð¸ Ð´ÐµÐ²ÑƒÑˆÐºÐ¸):"
echo ""
echo "  total_hours_wasted_here = ${APPROACH}"
echo ""
echo "  Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð¼Ð¸ÑÑÐ¸Ð¹:"
echo "    Â· git"
echo "    Â· k9s"
echo "    Â· vim"
echo "    Â· helm"
echo ""
echo "  PS: ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ Ñ„Ð¸ÐºÑÐ¸Ñ€ÑƒÐµÑ‚ÑÑ, Ð½Ð¾ Ð²ÑÑ‘ Ð°Ð±ÑÐ¾Ð»ÑŽÑ‚Ð½Ð¾ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ð¾ ðŸ¥¸"

eval $(ssh-agent -s) >/dev/null;
cat ~/.ssh/id_rsa | tr -d '\r' | ssh-add - &>/dev/null;
git config --local core.hooksPath /root/.githooks/ &>/dev/null;